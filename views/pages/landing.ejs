<!-- ./views/pages/landing.ejs -->
<%- include('../partials/header') %>
<%- include('../partials/navbar') %>
<%- include('../partials/flashMessages') %>
<%- include('../partials/sidebar') %>

<!-- Background video hero -->
<div class="relative h-screen overflow-hidden">
  <video autoplay muted loop playsinline class="absolute w-full h-full object-cover z-0">
    <source src="/videos/landing.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="absolute inset-0 bg-black bg-opacity-60 z-10"></div>
  <div class="relative z-20 flex flex-col items-center justify-center h-full text-white text-center px-6">
    <h1 class="text-4xl md:text-6xl font-extrabold mb-4 leading-tight drop-shadow-lg" data-aos="fade-up">
      Explore Cities & Countries Around the World
    </h1>
    <p class="text-base md:text-lg mb-6 max-w-2xl text-gray-200" data-aos="fade-up" data-aos-delay="100">
      Discover amazing places, track weather, learn fun facts, and challenge yourself with trivia.
    </p>
    <a href="/auth/register" 
       class="inline-block rounded-full bg-gradient-to-tr from-blue-700 to-indigo-600 py-3 px-6 text-sm font-medium text-white 
              transition-all shadow-md hover:shadow-xl hover:scale-105 duration-300" 
       data-aos="fade-up" data-aos-delay="200">
      Get Started
    </a>
  </div>
</div>

<!-- How it works -->
<section class="py-20 bg-white dark:bg-gray-900 text-center">
  <div class="max-w-6xl mx-auto px-6 sm:px-8">
    <h2 class="text-3xl font-bold mb-12 text-gray-800 dark:text-white" data-aos="fade-up">How It Works</h2>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-10">
      <div class="flex flex-col items-center" data-aos="fade-up">
        <div class="text-4xl mb-3">ğŸ”</div>
        <h3 class="text-xl font-semibold text-indigo-600 dark:text-indigo-400 mb-2">Search</h3>
        <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
          Find cities or countries with rich data including maps, weather, and images.
        </p>
      </div>
      <div class="flex flex-col items-center" data-aos="fade-up" data-aos-delay="100">
        <div class="text-4xl mb-3">ğŸ“š</div>
        <h3 class="text-xl font-semibold text-indigo-600 dark:text-indigo-400 mb-2">Learn</h3>
        <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
          Get fun facts, school info, and historical trivia about your favorite places.
        </p>
      </div>
      <div class="flex flex-col items-center" data-aos="fade-up" data-aos-delay="200">
        <div class="text-4xl mb-3">ğŸ’¬</div>
        <h3 class="text-xl font-semibold text-indigo-600 dark:text-indigo-400 mb-2">Connect</h3>
        <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
          Join the global chat per city and share insights with other explorers.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Trending Cities -->
<section class="py-20 bg-gray-100 dark:bg-gray-800">
  <div class="max-w-6xl mx-auto px-6 sm:px-8">
    <h2 class="text-3xl font-bold mb-12 text-gray-800 dark:text-white text-center" data-aos="fade-up">Trending Cities</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
      <% trendingCities.forEach(city => { %>
        <div class="bg-white dark:bg-gray-900 rounded-xl shadow hover:shadow-xl transition-all duration-300 p-4 cursor-pointer transform hover:-translate-y-1" data-aos="fade-up" data-aos-delay="100">
          <img src="<%= city.imageUrl || '/images/default-city.jpg' %>" alt="<%= city.name %>" class="rounded h-40 w-full object-cover mb-3">
          <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-1"><%= city.name %></h3>
          <div class="flex items-center gap-2 mb-2">
            <img
              src="https://flagcdn.com/24x18/<%= city.country.code.toLowerCase() %>.png"
              alt="<%= city.country.name %> flag"
              class="inline-block w-5 h-3 rounded"
            />
            <p class="text-gray-500 dark:text-gray-400 text-sm mb-2"><%= city.country.name %></p>
          </div>
          <a href="/cities/<%= city._id %>" class="text-indigo-600 dark:text-indigo-400 text-sm hover:underline">Explore â†’</a>
        </div>
      <% }) %>
    </div>
  </div>
</section>

<!--  countries -->
<section class="py-20 bg-gray-100 dark:bg-gray-800">
  <div class="max-w-6xl mx-auto px-6 sm:px-8">
    <h2 class="text-3xl font-bold mb-12 text-gray-800 dark:text-white text-center" data-aos="fade-up"> Countries</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
      <% countries.forEach(country => { %>
        <div class="bg-white dark:bg-gray-900 rounded-xl shadow hover:shadow-xl transition-all duration-300 p-4 cursor-pointer transform hover:-translate-y-1" data-aos="fade-up" data-aos-delay="100">
          <div class="flex items-center gap-2 mb-2">
            <img
              src="https://flagcdn.com/48x36/<%= country.code.toLowerCase() %>.png"
              alt="<%= country.name %> flag"
              class="inline-block w-6 h-4 rounded shadow"
            />
            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-1"><%= country.name %></h3>
          </div>
          <p class="text-gray-500 dark:text-gray-400 text-sm mb-2"><%= country.code %></p>
          
          <a href="/countries/<%= country._id.toString() %>" class="text-indigo-600 dark:text-indigo-400 text-sm hover:underline">Explore â†’</a>
        </div>
      <% }) %>
    </div>
  </div>
</section>

<%- include('../partials/footer') %>

<!-- AOS Init -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js" defer></script>
<script>AOS.init();</script>
