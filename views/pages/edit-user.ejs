<!-- ./views/pages/edit-user.ejs -->
<%- include('../partials/header') %>
<%- include('../partials/navbar') %>
<%- include('../partials/flashMessages') %>
<%- include('../partials/adminSidebar') %>

<section class="max-w-xl mx-auto p-6 mt-10 bg-white dark:bg-gray-900 rounded-xl shadow-xl">
  <h1 class="text-2xl font-bold mb-6 dark:text-white text-center">Edit User</h1>

  <form action="/admin/users/<%= user._id %>?_method=PUT" method="POST" class="space-y-5">
    <div>
      <label for="username" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">Username</label>
      <input
        type="text"
        id="username"
        name="username"
        value="<%= user.username %>"
        class="w-full px-4 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700 dark:text-white"
        required
      />
    </div>

    <div>
      <label for="email" class="block mb-1 font-medium text-gray-700 dark:text-gray-300">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        value="<%= user.email %>"
        class="w-full px-4 py-2 border rounded-md dark:bg-gray-800 dark:border-gray-700 dark:text-white"
        required
      />
    </div>

    <div class="flex items-center space-x-2">
      <input
        type="checkbox"
        id="isAdmin"
        name="isAdmin"
        <%= user.isAdmin ? 'checked' : '' %>
        class="h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"
      />
      <label for="isAdmin" class="text-gray-700 dark:text-gray-300">Admin Privileges</label>
    </div>

    <div class="flex justify-end gap-3">
      <a href="/admin/users" class="px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-sm text-gray-800 dark:text-white">Cancel</a>
      <button type="submit" class="px-4 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700 text-sm">Update User</button>
    </div>
  </form>
</section>

<%- include('../partials/footer') %>
